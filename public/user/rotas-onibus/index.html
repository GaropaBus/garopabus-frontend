<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="manifest" href="../../manifest.json" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.2.3/css/flag-icons.min.css"
    />
    <!-- GaropaBus - Rotas de Ônibus -->
    <title id="metadata-title-routes"></title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="Garopabus" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../../assets/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="../../assets/images/android-chrome-192x192.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../../assets/images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/x-icon"
      href="../../assets/images/favicon.ico"
    />
    <link rel="stylesheet" href="../../assets/css/user/rotas-onibus.css" />
    <link rel="stylesheet" href="../../assets/css/user/navbar.css" />
    <link rel="stylesheet" href="../../assets/css/user/header.css" />
    <link rel="stylesheet" href="../../assets/css/base.css" />
    <link rel="stylesheet" href="../../assets/css/user/install-container.css" />
  </head>

  <body>
    <div class="container">
      <header>
        <div class="main-title">
          <i class="fa fa-bus"></i>
          <h1>Horários de Ônibus</h1>
          <i id="language-settings" class="" style="margin-right: 0"></i>
        </div>
        <div class="search-container">
          <i class="fa fa-search"></i>
          <input
            type="text"
            id="search-input"
            placeholder="Procure por rotas"
          />
        </div>
      </header>

      <div class="languages-box hidden">
        <div class="language-item">
          <input type="radio" name="language" id="pt-br" />
          <label for="pt-br">Português (Brasil)</label>
          <i class="fi fi-br"></i>
        </div>
        <div class="language-item">
          <input type="radio" name="language" id="esp" />
          <label for="esp">Español</label>
          <i class="fi fi-es"></i>
        </div>
        <div class="language-item">
          <input type="radio" name="language" id="eng" />
          <label for="eng">English</label>
          <i class="fi fi-us"></i>
        </div>
      </div>

      <div class="listas-rotas">
        <div class="route-list">
          <h2>Sentido Bairros</h2>
          <div class="route-itens">
            <table>
              <tbody id="tabelaRotasPartindo">
                <!-- Preenchido pelo back -->
              </tbody>
            </table>
          </div>
        </div>
        <div class="route-list">
          <h2>Sentido Garopaba</h2>
          <div class="route-itens">
            <table>
              <tbody id="tabelaRotasSentido">
                <!-- Preenchido pelo back -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <nav>
        <button id="garopabus-map">
          <i class="fa-regular fa-map fa-fw"></i>
          <div id="navbar-map"></div>
          <!-- Mapa -->
        </button>
        <button id="garopabus-rotas">
          <i class="fa fa-bus"></i>
          <div id="navbar-routes"></div>
          <!-- Rotas -->
        </button>
        <button id="garopabus-ajuda">
          <i class="fas fa-info-circle"></i>
          <div id="navbar-help"></div>
          <!-- Ajuda -->
        </button>
      </nav>
      <div id="modal-backdrop"></div>

      <div id="install-container">
        <div id="informatios">
          <p id="install-message">Instale o Garopabus no seu celular!</p>
          <button id="install-button">Instalar</button>
          <button id="close-button">Fechar</button>
        </div>
      </div>
    </div>
    <script type="module" src="../../assets/js/user/rotas-onibus.js"></script>
    <script src="../../assets/js/user/nav.js"></script>
    <script type="module" src="../../assets/js/user/language.js"></script>
    <script src="../../assets/js/user/webapp.js"></script>
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("/service-worker.js")
            .then((registration) => {
              console.log(
                "Service Worker registrado com sucesso:",
                registration.scope
              );
            })
            .catch((error) => {
              console.log("Falha no registro do Service Worker:", error);
            });
        });
      }
    </script>
  </body>
</html>
